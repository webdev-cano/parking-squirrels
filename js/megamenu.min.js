// Item Name : Responsive Mega Menu Complete Set
// Item URI : http://codecanyon.net/item/mega-menu-complete-set/152825
// Author URI : http://codecanyon.net/user/Pixelworkshop/
// Version : 4.02



(function(e){e.megaMenuCompleteSet=function(t,n){function S(){var t=e(this);switch(r.menu_effect){case"hover_fade":t.find(b).first().fadeIn(r.menu_speed_show);break;case"hover_slide":t.find(b).first().slideDown(r.menu_speed_show);break;case"hover_toggle":t.find(b).first().show(r.menu_speed_show);break;case"click_fade":t.click(function(){t.find(b).first().fadeIn(r.menu_speed_show)});break;case"click_slide":t.click(function(){t.find(b).first().slideDown(r.menu_speed_show)});break;case"click_toggle":t.click(function(){t.find(b).first().show(r.menu_speed_show)});break}}function x(){var t=e(this).find(b);switch(r.menu_effect){case"hover_fade":case"click_fade":t.fadeOut(r.menu_speed_hide);break;case"hover_slide":case"click_slide":t.slideUp(r.menu_speed_hide);break;case"hover_toggle":case"click_toggle":t.hide(r.menu_speed_hide);break}}function T(){e("#megamenu_form").validate({rules:{name:{required:true,minlength:2},email:{required:true,email:true},message:{required:true},captcha:{required:true,answercheck:true}},messages:{name:{required:"Please enter your name",minlength:"Your name should contain at least 2 characters"},email:{required:"Please enter your email address"},message:{required:"Please enter your message",minlength:"This is too short"},captcha:{required:"Wrong answer !"}},submitHandler:function(t){e(t).ajaxSubmit({type:"POST",data:e(t).serialize(),url:"contact.php",success:function(){e("#megamenu_form fieldset").fadeTo("slow",.3,function(){e("#success").fadeIn()})},error:function(){e("#megamenu_form fieldset").fadeTo("slow",.3,function(){e("#error").fadeIn()})}})}});jQuery.validator.addMethod("answercheck",function(e,t){return this.optional(t)||/^\b5\b$/.test(e)},"Please type the correct answer")}var r={menu_speed_show:300,menu_speed_hide:200,menu_speed_delay:200,menu_effect:"hover_fade",menu_click_outside:0,menu_show_onload:0,menu_responsive:1};var i=this;i.options={};var s=e(t);var t=t;var o=s.children("li"),u=e(o).children(".megamenu_drop"),a=e(o).find(".dropdown_container"),f=e(".megamenu_container_vertical"),l=e(o).find(".dropdown_fullwidth"),c=e(a).add(l),h=e(".dropdown_first"),p=e(o).find(".dropdown_parent"),d=e(p).children("a"),v=e(p).find(".dropdown_flyout_level"),m=e(p).find(".dropdown_flyout_level_left"),g=e(".megamenu_button"),y=e(o).add(p),b=e(c).add(v).add(m);i.init=function(){r=e.extend(1,r,n);hoverIntentConfig={over:S,out:x,timeout:200,sensitivity:2,interval:r.menu_speed_delay};w();if(e("#megamenu_form").length>0){T()}};var w=function(){if("ontouchstart"in document.documentElement&&r.menu_responsive===1){if(e(document).width()<768){e(c).css({left:"-1px",top:"auto"}).hide();e(v).css({left:"0",top:"0"}).hide();e(o).hide(0);e(g).show(0)}else{E()}e(g).hammer().on("tap",function(){e(this).toggleClass("megamenu_button_active");e(o).not(":eq(0)").toggle(0)});e(y).toggleClass("noactive");e(u).hammer().on("tap",function(){var t=e(this);t.parent(o).toggleClass("active noactive").find(c).toggle(0);t.parent(o).siblings().addClass("noactive").removeClass("active").find(c).hide(0);e(p).addClass("noactive").removeClass("active").find(v).hide(0);return false});e(d).hammer().on("tap",function(){var t=e(this);t.parent(p).toggleClass("active noactive").find(v).first().toggle(0);t.parent(p).siblings().addClass("noactive").removeClass("active").find(v).hide(0);t.parent(p).siblings().find(p).addClass("noactive").removeClass("active");return false});e(document).hammer().on("tap",function(){e(y).addClass("noactive");e(b).hide(0)});s.hammer().on("tap",function(e){e.stopPropagation()});e(window).bind("orientationchange",function(){e(y).addClass("noactive");e(b).hide(0);if(e(document).width()<768){e(o).hide(0);e(g).show(0)}else{e(o).show(0);e(g).hide(0)}});return}else{E();e(window).resize(function(){e(g).removeClass("megamenu_button_active");E()});e(g).children("a").click(function(){e(g).toggleClass("megamenu_button_active");e(o).not(":eq(0)").toggle(0)});if(r.menu_click_outside===1){e(document).click(function(){e(y).removeClass("active");e(b).hide(0)});s.click(function(e){e.stopPropagation()})}switch(r.menu_effect){case"open_close_fade":var t="fadeToggle",n="fadeOut";break;case"open_close_slide":var t="slideToggle",n="slideUp";break;case"open_close_toggle":var t="toggle",n="hide";break}switch(r.menu_effect){case"hover_fade":case"hover_slide":case"hover_toggle":case"click_fade":case"click_slide":case"click_toggle":e(y).hoverIntent(hoverIntentConfig);break;case"open_close_fade":case"open_close_slide":case"open_close_toggle":e(".megamenu > li:nth-child("+(1+r.menu_show_onload)+")").find(c).show().closest(o).toggleClass("active");e(o).unbind("mouseenter mouseleave").click(function(){var i=e(this);i.siblings().removeClass("active").find(c)[n](r.menu_speed_hide);i.toggleClass("active").find(c).first().delay(r.menu_speed_delay)[t](r.menu_speed_show).click(function(e){e.stopPropagation()})});e(p).unbind("mouseenter mouseleave").click(function(){var i=e(this);i.siblings().removeClass("active").find(v)[n](r.menu_speed_hide);i.siblings().find("li").removeClass("active");i.toggleClass("active").find(v).first().delay(r.menu_speed_delay)[t](r.menu_speed_show).click(function(e){e.stopPropagation()})});break}}};var E=function(){if(e(document).width()<768&&r.menu_responsive===1){e(c).css({left:"-1px",top:"auto"}).hide();e(h).css({left:"0"}).hide();e(v).css({left:"0",top:"0"}).hide();s.children("li").hide(0);e(g).show(0)}else{e(a).css({left:"auto",top:"auto"}).hide();e(l).css({left:"-1px",top:"auto"}).hide();e(v).css({left:"95%",top:"-21px"}).hide();e(m).css({left:"-108%",right:"100%"}).hide();s.children("li").show(0);e(g).hide(0)}e(f).find(c).css({top:"0"})};i.init()};e.fn.megaMenuCompleteSet=function(t){return this.each(function(){if(undefined==e(this).data("megaMenuCompleteSet")){var n=new e.megaMenuCompleteSet(this,t);e(this).data("megaMenuCompleteSet",n)}})}})(jQuery)